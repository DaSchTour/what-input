/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.0.1
 * @link https://github.com/DaSchTour/what-input
 * @license MIT
 */
!function(e){function t(e,t,i){return 4===arguments.length?n.apply(this,arguments):void r(e,{declarative:!0,deps:t,declare:i})}function n(e,t,n,i){r(e,{declarative:!1,deps:t,executingRequire:n,execute:i})}function r(e,t){t.name=e,e in h||(h[e]=t),t.normalizedDeps=t.deps}function i(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==v.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var n=0,r=e.normalizedDeps.length;r>n;n++){var o=e.normalizedDeps[n],u=h[o];if(u&&!u.evaluated){var s=e.groupIndex+(u.declarative!=e.declarative);if(void 0===u.groupIndex||u.groupIndex<s){if(void 0!==u.groupIndex&&(t[u.groupIndex].splice(v.call(t[u.groupIndex],u),1),0==t[u.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");u.groupIndex=s}i(u,t)}}}}function o(e){var t=h[e];t.groupIndex=0;var n=[];i(t,n);for(var r=!!t.declarative==n.length%2,o=n.length-1;o>=0;o--){for(var u=n[o],a=0;a<u.length;a++){var p=u[a];r?s(p):c(p)}r=!r}}function u(e){return w[e]||(w[e]={name:e,dependencies:[],exports:{},importers:[]})}function s(t){if(!t.module){var n=t.module=u(t.name),r=t.module.exports,i=t.declare.call(e,function(e,t){if(n.locked=!0,"object"==typeof e)for(var i in e)r[i]=e[i];else r[e]=t;for(var o=0,u=n.importers.length;u>o;o++){var s=n.importers[o];if(!s.locked)for(var a=0;a<s.dependencies.length;++a)s.dependencies[a]===n&&s.setters[a](r)}return n.locked=!1,t},{id:t.name});n.setters=i.setters,n.execute=i.execute;for(var o=0,a=t.normalizedDeps.length;a>o;o++){var c,p=t.normalizedDeps[o],d=h[p],l=w[p];l?c=l.exports:d&&!d.declarative?c=d.esModule:d?(s(d),l=d.module,c=l.exports):c=f(p),l&&l.importers?(l.importers.push(n),n.dependencies.push(l)):n.dependencies.push(null),n.setters[o]&&n.setters[o](c)}}}function a(e){var t,n=h[e];if(n)n.declarative?l(e,[]):n.evaluated||c(n),t=n.module.exports;else if(!(t=f(e)))throw new Error("Unable to load dependency "+e+".");return(!n||n.declarative)&&t&&t.__useDefault?t.default:t}function c(t){if(!t.module){var n={},r=t.module={exports:n,id:t.name};if(!t.executingRequire)for(var i=0,o=t.normalizedDeps.length;o>i;i++){var u=t.normalizedDeps[i],s=h[u];s&&c(s)}t.evaluated=!0;var d=t.execute.call(e,function(e){for(var n=0,r=t.deps.length;r>n;n++)if(t.deps[n]==e)return a(t.normalizedDeps[n]);throw new TypeError("Module "+e+" not declared as a dependency.")},n,r);void 0!==typeof d&&(r.exports=d),n=r.exports,n&&n.__esModule?t.esModule=n:t.esModule=p(n)}}function p(t){var n={};if(("object"==typeof t||"function"==typeof t)&&t!==e)if(m)for(var r in t)"default"!==r&&d(n,t,r);else{var i=t&&t.hasOwnProperty;for(var r in t)"default"===r||i&&!t.hasOwnProperty(r)||(n[r]=t[r])}return n.default=t,y(n,"__useDefault",{value:!0}),n}function d(e,t,n){try{var r;(r=Object.getOwnPropertyDescriptor(t,n))&&y(e,n,r)}catch(r){return e[n]=t[n],!1}}function l(t,n){var r=h[t];if(r&&!r.evaluated&&r.declarative){n.push(t);for(var i=0,o=r.normalizedDeps.length;o>i;i++){var u=r.normalizedDeps[i];-1==v.call(n,u)&&(h[u]?l(u,n):f(u))}r.evaluated||(r.evaluated=!0,r.module.execute.call(e))}}function f(e){if(I[e])return I[e];if("@node/"==e.substr(0,6))return I[e]=p(g(e.substr(6)));var t=h[e];if(!t)throw"Module "+e+" not present.";return o(e),l(e,[]),h[e]=void 0,t.declarative&&y(t.module.exports,"__esModule",{value:!0}),I[e]=t.declarative?t.module.exports:t.esModule}var h={},v=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},m=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(e){m=!1}var y;!function(){try{Object.defineProperty({},"a",{})&&(y=Object.defineProperty)}catch(e){y=function(e,t,n){try{e[t]=n.value||n.get.call(e)}catch(e){}}}}();var w={},g="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,I={"@empty":{}};return function(e,r,i,o){return function(u){u(function(u){for(var s={_nodeRequire:g,register:t,registerDynamic:n,get:f,set:function(e,t){I[e]=t},newModule:function(e){return e}},a=0;a<r.length;a++)!function(e,t){t&&t.__esModule?I[e]=t:I[e]=p(t)}(r[a],arguments[a]);o(s);var c=f(e[0]);if(e.length>1)for(var a=1;a<e.length;a++)f(e[a]);return i?c.default:c})}}}("undefined"!=typeof self?self:global)(["1"],["2"],!0,function(e){this.require,this.exports,this.module;e.registerDynamic("1",["2"],!0,function(e,t,n){"use strict";function r(){return i(this,function(e){switch(e.label){case 0:return[4,["keyup","keyboard"]];case 1:return e.sent(),[4,["mousedown","mouse"]];case 2:return e.sent(),[4,["mousemove","mouse"]];case 3:return e.sent(),[4,["MSPointerDown","pointer"]];case 4:return e.sent(),[4,["MSPointerMove","pointer"]];case 5:return e.sent(),[4,["pointerdown","pointer"]];case 6:return e.sent(),[4,["pointermove","pointer"]];case 7:return e.sent(),[4,["touchstart","touch"]];case 8:return e.sent(),[2]}})}var i=(this||self,this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s});Object.defineProperty(t,"__esModule",{value:!0});var o=e("2"),u=function(){function e(){this.docElem=document.documentElement,this.currentInput="initial",this.currentIntent=null,this.formInputs=["input","select","textarea"],this.ignoreMap=[16,17,18,91,93],this._inputTypes=[],this.isBuffering=!1,this.pointerMap={2:"touch",3:"touch",4:"mouse"},this.touchTimer=null,this.inputMap=new Map(r()),this.inputMap.set(this.detectWheel(),"mouse"),void 0!==o.Subject&&(this.watch=new o.Subject),this.addListeners(),this.setInput()}return e.prototype.ask=function(e){return void 0===e&&(e="strict"),"loose"===e?this.currentIntent:this.currentInput},Object.defineProperty(e.prototype,"inputTypes",{get:function(){return this._inputTypes},enumerable:!0,configurable:!0}),e.prototype.setInput=function(){void 0!==this.watch&&this.watch.next(this.currentInput),this.docElem.setAttribute("data-whatinput",this.currentInput),this.docElem.setAttribute("data-whatintent",this.currentInput),-1===this.inputTypes.indexOf(this.currentInput)&&(this.inputTypes.push(this.currentInput),this.docElem.className+=" whatinput-types-"+this.currentInput)},e.prototype.addListeners=function(){var e=this;window.PointerEvent?(this.docElem.addEventListener("pointerdown",function(t){return e.updateInput(t)}),this.docElem.addEventListener("pointermove",function(t){return e.setIntent(t)})):window.MSPointerEvent?(this.docElem.addEventListener("MSPointerDown",function(t){return e.updateInput(t)}),this.docElem.addEventListener("MSPointerMove",function(t){return e.setIntent(t)})):(this.docElem.addEventListener("mousedown",function(t){return e.updateInput(t)}),this.docElem.addEventListener("mousemove",function(t){return e.setIntent(t)}),"ontouchstart"in window&&this.docElem.addEventListener("touchstart",function(t){return e.touchBuffer(t)})),this.docElem.addEventListener(this.detectWheel(),function(t){return e.setIntent(t)}),this.docElem.addEventListener("keydown",function(t){return e.updateInput(t)}),this.docElem.addEventListener("keyup",function(t){return e.updateInput(t)})},e.prototype.updateInput=function(e){if(!this.isBuffering){var t=e.which,n=this.inputMap.get(e.type);"pointer"===n&&(n=this.pointerType(e));if(this.currentInput!==n||this.currentIntent!==n){var r=document.activeElement,i=r instanceof HTMLInputElement||r instanceof HTMLSelectElement||r instanceof HTMLTextAreaElement;("touch"===n||"mouse"===n&&-1===this.ignoreMap.indexOf(t)||"keyboard"===n&&i)&&(this.currentInput=this.currentIntent=n,this.setInput())}}},e.prototype.setIntent=function(e){if(!this.isBuffering){var t=this.inputMap.get(e.type);"pointer"===t&&(t=this.pointerType(e)),this.currentIntent!==t&&(this.currentIntent=t,this.docElem.setAttribute("data-whatintent",this.currentIntent))}},e.prototype.touchBuffer=function(e){var t=this;window.clearTimeout(this.touchTimer),this.updateInput(e),this.isBuffering=!0,this.touchTimer=window.setTimeout(function(){t.isBuffering=!1},200)},e.prototype.pointerType=function(e){return"number"==typeof e.pointerType?this.pointerMap[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},e.prototype.detectWheel=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},e}();return t.WhatInput=u,t.whatInput=function(){if("addEventListener"in window&&Array.prototype.indexOf)return new u}(),window.whatInput=t.whatInput,n.exports})})(function(e){"function"==typeof define&&define.amd?define(["rxjs"],e):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=e(require("rxjs")):e(Rx)});